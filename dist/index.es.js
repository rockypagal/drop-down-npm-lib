import n,{useState as r,useRef as e,useEffect as t,useMemo as o}from"react";!function(n,r){void 0===r&&(r={});var e=r.insertAt;if(n&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}("/* --- drop down box css start --- */\r\n\r\n.drop-down-main {\r\n  /* margin-bottom: 1rem; */\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main-small {\r\n  width: 11rem;\r\n}\r\n\r\n.drop-down-main-mini {\r\n  width: 5rem;\r\n}\r\n\r\n.drop-down-main-medium {\r\n  width: 19rem;\r\n}\r\n\r\n.drop-down-main-large {\r\n  width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-large .default_value {\r\n  max-width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-small .default_value,\r\n.drop-down-main.drop-down-main-mini .default_value,\r\n.drop-down-main.drop-down-main-medium .default_value {\r\n  max-width: 90%;\r\n}\r\n.drop-down-main .direct .default_value {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.drop-down-main .drop-down-title {\r\n  padding: 0.5rem 0;\r\n  font-weight: 500;\r\n  background: transparent;\r\n}\r\n.drop-down-main .drop-down-title.animateDropDownLabel {\r\n  background: white;\r\n}\r\n\r\n.drop-down-main .drop-down-selector {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main .drop-down-selector .direct {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n  color: #415094;\r\n  align-items: center;\r\n  padding: 0.65rem;\r\n  border-radius: 0.3125rem;\r\n  border: 1px solid #a1a4b9;\r\n  user-select: none;\r\n  background-color: white;\r\n}\r\n\r\n.drop-down-selector .drop-arrow {\r\n  font-size: 1rem;\r\n  transition: all 0.15s;\r\n  /* cursor: pointer; */\r\n  color: #415094;\r\n  pointer-events: none;\r\n}\r\n\r\n.drop-down-selector .up-arrow {\r\n  rotate: 180deg;\r\n}\r\n\r\n.input-field input.drop-down-search-input[disabled],\r\n.drop-down-main .drop-down-selector .disabledDropBox {\r\n  background-color: #e2e2e24b;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.drop-down-selector .drop-down-menu {\r\n  position: absolute;\r\n  /* top: 3rem; */\r\n  top: 105%;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 20;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\r\n  /* box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); */\r\n  /* box-shadow: 0 24px 38px 3px rgb(255 255 255 / 14%),\r\n    0 9px 46px 8px rgb(132 132 132 / 12%), 0 11px 15px -7px rgba(0, 0, 0, 0.2); */\r\n  border-radius: 0.5rem;\r\n  /* border-bottom-right-radius: 0.5rem; */\r\n  overflow: hidden;\r\n  animation: drop-down-animation 0.13s ease-in-out;\r\n  max-height: 10rem;\r\n  overflow-y: scroll;\r\n  /* margin-bottom: 1rem; */\r\n}\r\n.drop-down-selector .drop-down-menu.search-height-adjust {\r\n  max-height: 11.5rem;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  width: 6px !important;\r\n  display: block !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb {\r\n  background: #818181 !important;\r\n  border-radius: 5px !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb:hover {\r\n  background: #a4a4a4 !important;\r\n  cursor: pointer !important;\r\n}\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-track {\r\n  background: #f1f1f1 !important;\r\n  cursor: pointer !important;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  display: block;\r\n}\r\n\r\n@keyframes drop-down-animation {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.drop-down-selector .hide_drop-down-menu {\r\n  animation: fadeOutAnimation 0.13s ease-in-out forwards;\r\n}\r\n\r\n.show_component-common-animation {\r\n  animation: show_component-common-animation 0.1s ease-in-out forwards;\r\n}\r\n\r\n.drop-down-search-bar input.drop-down-search-input {\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  padding: 0.5rem;\r\n  width: 95%;\r\n  height: 2.25rem;\r\n  line-height: 2.25rem;\r\n  width: 100%;\r\n  font-weight: 500;\r\n  font-size: 0.9rem;\r\n  border-radius: 6px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  border: 1px solid #d2d6da;\r\n}\r\n\r\n@keyframes show_component-common-animation {\r\n  0% {\r\n    opacity: 0;\r\n    scale: 0;\r\n  }\r\n\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.hide_component-common-animation {\r\n  animation: hide_component-common-animation 0.3s ease-in-out forwards;\r\n}\r\n\r\n@keyframes hide_component-common-animation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n    scale: 1;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    scale: 0;\r\n    /* transform: translateY(-3.5rem); */\r\n  }\r\n}\r\n\r\n@keyframes fadeOutAnimation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n}\r\n\r\n.show_search-common-animation {\r\n  animation: show_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes show_search-common-animation {\r\n  0% {\r\n    /* width: 0; */\r\n    transform: translateX(20px);\r\n    scale: 0;\r\n    opacity: 0;\r\n  }\r\n\r\n  40% {\r\n    scale: 0.2;\r\n  }\r\n\r\n  70% {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  100% {\r\n    scale: 1;\r\n    transform: translateX(0px);\r\n    opacity: 1;\r\n    /* width: 100%; */\r\n  }\r\n}\r\n\r\n.hide_search-common-animation {\r\n  animation: hide_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes hide_search-common-animation {\r\n  0% {\r\n    /* width: 100%; */\r\n    opacity: 1;\r\n    transform: translateX(0px);\r\n  }\r\n\r\n  20% {\r\n    opacity: 0.7;\r\n    scale: 1;\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(20px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.drop-down-menu .drop-down-item {\r\n  padding: 0.5rem;\r\n  font-size: 0.875rem;\r\n  padding-left: 0.9rem;\r\n  /* height: 2.25rem; */\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.drop-down-menu .drop-down-item:hover {\r\n  background-color: #dbedff;\r\n}\r\n.drop-down-menu .drop-down-item span {\r\n  overflow: hidden;\r\n}\r\n\r\n.drop-down-menu .selectedDropBox {\r\n  background-color: #f3f6f9;\r\n}\r\n\r\n.drop-down-menu .drop-down-search-bar {\r\n  /* display: flex;\r\n  justify-content: center;\r\n  padding: 0.4rem 0; */\r\n  padding: 0.4rem;\r\n}\r\n\r\n.animateDropDownLabel {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0.7rem;\r\n  transform: translateY(-50%);\r\n  transition: all 0.3s;\r\n  pointer-events: none;\r\n  color: #212229;\r\n  z-index: 1;\r\n  /* opacity: 0.7; */\r\n  font-size: 1rem;\r\n  line-height: 0;\r\n}\r\n\r\n.animateDropDownLabel span {\r\n  padding: 0 0.5rem;\r\n  transition: 0.3s;\r\n}\r\n\r\n.animateDropDownLabelUp {\r\n  top: 0;\r\n  left: 0.7rem;\r\n  transform: translateY(-100%);\r\n  color: #344767;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.animateDropDownLabelUp span {\r\n  font-size: 0.75rem;\r\n  background: inherit;\r\n}\r\n\r\n.direct.fixedHeight {\r\n  height: 2.75rem;\r\n}\r\n\r\n/* --- drop down box css end --- */\r\n");const a="Reset",i="globalClick",l="incomingValue",d=["px","em","rem","%","vw","vmin","vmax"],s=["small","medium","mini"],c=(n,r,e=null)=>e?typeof n===r?e?.ifTrue:e?.ifFalse:typeof n===r;function m(n){const r=n?.replaceAll(/\d/g,""),e=d.includes(r);return e||!1}const p=n=>n.trim().replace(/\s+/g," "),u=({options:o,disabled:l,addStyle:d,searchBar:s,dropDownValueTwo:m,resetButton:u,menuOptions:w,setMenuOptions:h,showMenu:f,handleResetBtnText:b,optionsContainer:g,optionItemStyle:y,inputSearchStyle:x,selectedOptionItemStyle:v,mainRef:k,animateTitle:T,handleSetValues:_})=>{const[E,S]=r({query:"",touched:!1}),[B,$]=r(""),D=e(null);let j=e(null);const C=n=>n?.searchOptions?(n?.searchOptions?.join("")+n?.label).replaceAll(" ","")?.toLowerCase():n?.label.replaceAll(" ","")?.toLowerCase();t((()=>{let n;return s&&E?.touched&&(n=setTimeout((()=>{if(!E?.query)return void(100!==w.length&&o?.length>100?h(o.slice(0,100)):o?.length<=100&&h(o));const n=o.filter((n=>C(n)?.includes(E?.query.replaceAll(" ","")?.toLowerCase())));h(n)}),s?.delay&&c(Number(s?.delay),"number")?s?.delay:400)),()=>{clearTimeout(n)}}),[E?.query]);const[L,N]=r(!1),F=e();t((()=>{const n=n=>{F?.current&&!F?.current?.contains(n.target)&&(_({key:i}),setTimeout((()=>{h(o?.length>=100?o?.slice(0,100):o)}),250))};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}}),[F,w?.length]),t((()=>{f&&N(!0),s&&D.current&&D.current.focus()}),[]),t((()=>{const n=()=>{const n=window.innerHeight,r=k.current.getBoundingClientRect(),e=document.getElementById("drop_$_down_$_menu")?.getBoundingClientRect().height||0;$(n-(r.height+r.top)<e)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]);const V=(n,r)=>{if(!j||n!==r-101)return r>=100&&n===r-1?j:void 0;j.current=null},O=e(null);return t((()=>(o?.length>=100&&(O.current||(O.current=new IntersectionObserver((n=>{const r=n[0];r.isIntersecting&&(h((n=>o?.slice(0,n.length+100))),O.current?.unobserve(r.target))}))),j.current&&O.current.observe(j.current)),()=>{O.current&&(O.current.disconnect(),O.current=null)})),[o,w,h]),n.createElement(n.Fragment,null,l?"":f?n.createElement("div",{className:p(`drop-down-menu ${d?"":" hide_drop-down-menu "} ${s?" search-height-adjust ":""} \n          ${c(g,"string",{ifTrue:g,ifFalse:""})}\n          `),ref:f&&L?F:null,id:"drop_$_down_$_menu",style:{...g&&c(g,"object")&&g,...B&&{top:"auto",bottom:""+(T?"85%":"70%")}}},s?n.createElement("div",{className:"drop-down-search-bar"},n.createElement("input",{className:`drop-down-search-input ${c(x,"string",{ifTrue:x,ifFalse:""})}`,style:{...x&&c(x,"object")&&x},ref:D,type:"text",placeholder:"search here...",name:"search",value:E?.query,onChange:n=>{S({query:n.target.value,touched:!0})},maxLength:80})):null,u&&m&&!E?.query?n.createElement("div",{className:`drop-down-item ${c(y,"string",{ifTrue:y,ifFalse:""})}`,onClick:()=>{_({label:b(),value:"",key:a})},style:{...y&&c(y,"object")&&y}},n.createElement("span",null,b())):null,w?.length>0?w?.map(((r,e)=>n.createElement("div",{key:e,className:p(`drop-down-item ${c(y,"string",{ifTrue:y,ifFalse:""})}\n                  ${m===r?.value?c(v,"string",{ifTrue:v,ifFalse:" selectedDropBox"}):""}`),onClick:()=>{_(r,e,o?.length,E?.query&&E?.touched)},style:{...y&&c(y,"object")&&y,...v&&m===r?.value&&c(v,"object")&&v}},n.createElement("span",{ref:w?.length>=100?V(e,w?.length):null},r?.label)))):n.createElement("div",{className:`drop-down-item ${c(y,"string",{ifTrue:y,ifFalse:""})}`,style:{...y&&c(y,"object")&&y}},n.createElement("span",null,"No Data Found"))):null)},w=({title:d,animateTitle:w,options:h,placeholder:f,size:b,showSearch:g,disabled:y=!1,incomingValue:x,resetButton:v,onSelect:k,beforeSelect:T,afterSelect:_,changeObserver:E={},customArrow:S,styles:B={},hideScrollbar:$=!1})=>{const[D,j]=r(!1),[C,L]=r(!1),[N,F]=r(h),[V,O]=r(f),[z,I]=r(""),[q,Y]=r(""),[A,R]=r(null),M=e(null);let X=e(""),U=e(null);const H=()=>{L(!C),function(){A&&(clearTimeout(A),R(null));if(D){const n=setTimeout((()=>{j(!1)}),200);R(n)}else j(!0)}()};const P=()=>c(v,"string",{ifTrue:v,ifFalse:a});function Z(n={},r=null,e,t){const{label:o,value:d,key:s}=n;if(n?.key&&delete n?.key,s===i&&D)return void H();let m,p={oldValue:z,index:r,row:{...n,label:s&&s===a?"":n?.label}};T&&c(T,"function")&&(m=T(d,p)),!1!==m&&(o||d)&&(O(o),I(d)),U.current=p,t&&setTimeout((()=>{F(e>=100?h?.slice(0,100):h)}),250),s!==l&&H()}t((()=>()=>{A&&clearTimeout(A)}),[A]),t((()=>{const n=P(),r=V===n&&""===z;(z||r)&&(k?(k&&z||k&&r)&&k(z,U.current):console.error("Dropdown component requires a callback function to handle value changes. Please provide a valid 'onSelect' prop."),_&&c(_,"function")&&_(z,U.current),r&&O(f||"")),U.current&&(U.current=null)}),[z]);const G=o((()=>h),[h]);return t((()=>{let n=G;G?.length>100&&(n=G?.slice(0,100)),F(n)}),[G]),t((()=>{if(q&&q!==x||!z&&x){let n=null;const r=h?.find(((r,e)=>r?.value===x&&(n=e,!0)));r?.value===x&&(Y(r?.value),Z({...r,key:l},n))}}),[x,G]),t((()=>{const n=setTimeout((()=>{y&&D&&H()}),250);return()=>clearTimeout(n)}),[y,D]),t((()=>{const{target:n,handler:r}=E;if(c(r,"function")){r((n=>{let r={label:n||f,value:n},e=null;n&&(r=h?.find(((r,t)=>r?.value===n&&(e=t,!0)))),r?.value===n&&Z({...r,key:l},e)}),{newTargetedValue:n,oldTargetedValue:X.current,dropdownValue:z}),X.current=n}}),[E?.target]),t((()=>{!V||f?f&&(z&&I(""),O(f)):O("")}),[f]),n.createElement("div",{className:"drop-down-main "+(c(b,"string")&&s.includes(b)?`drop-down-main-${b}`:"drop-down-main-large"),ref:M,style:{...b&&c("number"===parseInt(b))?{width:m(b)?b:`${parseInt(b)}px`}:c(B?.selectBox,"object")&&B?.selectBox?.width&&{width:B?.selectBox?.width}}},d&&n.createElement("div",{className:p(`drop-down-title  ${w?z||D?" animateDropDownLabel animateDropDownLabelUp":" animateDropDownLabel":""}\n            ${c(B?.title,"string",{ifTrue:B?.title,ifFalse:""})}\n            `),style:{...B?.title&&c(B?.title,"object")&&B?.title,...w&&{padding:"0px"},...w&&{margin:"0px"}}},n.createElement("span",null,d||"")),n.createElement("div",{className:"drop-down-selector"+(y?"":!$&&(N?.length>4||g&&N?.length>3)?" show-drop-scroll":" hide-drop-scroll")},n.createElement("div",{className:p(`direct ${y?"disabledDropBox":""} ${c(B?.selectBox,"string",{ifTrue:B?.selectBox,ifFalse:""})}\n          ${y?c(B?.disabledState,"string",{ifTrue:B?.disabledState,ifFalse:""}):""}`),onClick:n=>{y||H()},style:{...c(B?.selectBox,"object")&&B?.selectBox&&{...B?.selectBox,...b&&{width:"auto"},...y&&!B?.disabledState&&{backgroundColor:"#e2e2e24b",cursor:"not-allowed"}},...y&&B?.disabledState&&c(B?.disabledState,"object")&&{...B?.disabledState}}},n.createElement("div",{className:p(`default_value ${z&&c(B?.selectedValue,"string",{ifTrue:B?.selectedValue,ifFalse:""})} ${!z&&c(B?.placeholder,"string")?B?.placeholder:""}`),style:{...B?.selectedValue&&z&&c(B?.selectedValue,"object")&&B?.selectedValue,...f&&B?.placeholder&&c(B?.placeholder,"object")&&!z&&B?.placeholder}},V===P()&&""===z?" ":V||" "),S&&S?.element?n.createElement("div",{className:`drop-arrow ${C?"up-arrow":""} ${c(B?.arrow,"string")?B?.arrow:""}`,style:c(B?.arrow,"object",{ifTrue:B?.arrow,ifFalse:{}})},S?.element):n.createElement("svg",{className:`drop-arrow ${C?"up-arrow":""} ${c(B?.arrow,"string")?B?.arrow:""}`,style:c(B?.arrow,"object")?B?.arrow:{},xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 -960 960 960",width:"24px",fill:"#415094"},n.createElement("path",{d:"M480-80 200-360l56-56 184 183v-647h80v647l184-184 56 57L480-80Z"}))),D&&n.createElement(u,{disabled:y,addStyle:C,searchBar:g,dropDownValueTwo:z,resetButton:v,menuOptions:N,options:h,setMenuOptions:F,showMenu:D,handleResetBtnText:P,optionsContainer:B?.optionsContainer,optionItemStyle:B?.optionItem,inputSearchStyle:B?.searchInput,selectedOptionItemStyle:B?.selectedOptionItem,mainRef:M,animateTitle:w,handleSetValues:Z})))};export{w as default};
