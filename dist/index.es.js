import n,{useState as e,useRef as r,useEffect as t,useLayoutEffect as o,useMemo as a}from"react";!function(n,e){void 0===e&&(e={});var r=e.insertAt;if(n&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}("/* --- drop down box css start --- */\r\n\r\n.drop-down-main {\r\n  /* margin-bottom: 1rem; */\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main-small {\r\n  width: 11rem;\r\n}\r\n\r\n.drop-down-main-mini {\r\n  width: 5rem;\r\n}\r\n\r\n.drop-down-main-medium {\r\n  width: 19rem;\r\n}\r\n\r\n.drop-down-main-large {\r\n  width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-large .default_value {\r\n  max-width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-small .default_value,\r\n.drop-down-main.drop-down-main-mini .default_value,\r\n.drop-down-main.drop-down-main-medium .default_value {\r\n  max-width: 90%;\r\n}\r\n.drop-down-main .direct .default_value {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.drop-down-main .drop-down-title {\r\n  padding: 0.5rem 0;\r\n  font-weight: 500;\r\n  background: transparent;\r\n}\r\n.drop-down-main .drop-down-title.animateDropDownLabel {\r\n  background: white;\r\n}\r\n\r\n.drop-down-main .drop-down-selector {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main .drop-down-selector .direct {\r\n  box-sizing: border-box;\r\n  width: 100% !important;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n  /* color: #415094; */\r\n  color: black;\r\n  align-items: center;\r\n  padding: 0.65rem;\r\n  border-radius: 0.3125rem;\r\n  border: 1px solid #a1a4b9;\r\n  user-select: none;\r\n  background-color: white;\r\n}\r\n\r\n.drop-down-selector .drop-arrow {\r\n  font-size: 1rem;\r\n  transition: all 0.15s;\r\n  /* cursor: pointer; */\r\n  /* color: #415094; */\r\n  color: black;\r\n  pointer-events: none;\r\n}\r\n\r\n.drop-down-selector .up-arrow {\r\n  rotate: 180deg;\r\n}\r\n\r\n.input-field input.drop-down-search-input[disabled],\r\n.drop-down-main .drop-down-selector .disabledDropBox {\r\n  background-color: #e2e2e24b;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.drop-down-selector .drop-down-menu {\r\n  position: absolute;\r\n  /* top: 3rem; */\r\n  top: 105%;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 20;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\r\n  /* box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); */\r\n  /* box-shadow: 0 24px 38px 3px rgb(255 255 255 / 14%),\r\n    0 9px 46px 8px rgb(132 132 132 / 12%), 0 11px 15px -7px rgba(0, 0, 0, 0.2); */\r\n  border-radius: 0.5rem;\r\n  /* border-bottom-right-radius: 0.5rem; */\r\n  overflow: hidden;\r\n  animation: drop-down-animation 0.13s ease-in-out;\r\n  max-height: 10rem;\r\n  overflow-y: scroll;\r\n  /* margin-bottom: 1rem; */\r\n}\r\n.drop-down-selector .drop-down-menu.search-height-adjust {\r\n  max-height: 11.5rem;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  width: 6px !important;\r\n  display: block !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb {\r\n  background: #818181 !important;\r\n  border-radius: 5px !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb:hover {\r\n  background: #a4a4a4 !important;\r\n  cursor: pointer !important;\r\n}\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-track {\r\n  background: #f1f1f1 !important;\r\n  cursor: pointer !important;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  display: block;\r\n}\r\n\r\n@keyframes drop-down-animation {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.drop-down-selector .hide_drop-down-menu {\r\n  animation: fadeOutAnimation 0.13s ease-in-out forwards;\r\n}\r\n\r\n.show_component-common-animation {\r\n  animation: show_component-common-animation 0.1s ease-in-out forwards;\r\n}\r\n\r\n.drop-down-search-bar input.drop-down-search-input {\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  padding: 0.5rem;\r\n  width: 95%;\r\n  height: 2.25rem;\r\n  line-height: 2.25rem;\r\n  width: 100%;\r\n  font-weight: 500;\r\n  font-size: 0.9rem;\r\n  border-radius: 6px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  border: 1px solid #d2d6da;\r\n}\r\n.input-field input.drop-down-search-input:focus {\r\n  outline: 2px solid #7abdff;\r\n}\r\n@keyframes show_component-common-animation {\r\n  0% {\r\n    opacity: 0;\r\n    scale: 0;\r\n  }\r\n\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.hide_component-common-animation {\r\n  animation: hide_component-common-animation 0.3s ease-in-out forwards;\r\n}\r\n\r\n@keyframes hide_component-common-animation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n    scale: 1;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    scale: 0;\r\n    /* transform: translateY(-3.5rem); */\r\n  }\r\n}\r\n\r\n@keyframes fadeOutAnimation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n}\r\n\r\n.show_search-common-animation {\r\n  animation: show_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes show_search-common-animation {\r\n  0% {\r\n    /* width: 0; */\r\n    transform: translateX(20px);\r\n    scale: 0;\r\n    opacity: 0;\r\n  }\r\n\r\n  40% {\r\n    scale: 0.2;\r\n  }\r\n\r\n  70% {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  100% {\r\n    scale: 1;\r\n    transform: translateX(0px);\r\n    opacity: 1;\r\n    /* width: 100%; */\r\n  }\r\n}\r\n\r\n.hide_search-common-animation {\r\n  animation: hide_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes hide_search-common-animation {\r\n  0% {\r\n    /* width: 100%; */\r\n    opacity: 1;\r\n    transform: translateX(0px);\r\n  }\r\n\r\n  20% {\r\n    opacity: 0.7;\r\n    scale: 1;\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(20px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.drop-down-menu .drop-down-item {\r\n  padding: 0.5rem;\r\n  font-size: 0.875rem;\r\n  padding-left: 0.9rem;\r\n  /* height: 2.25rem; */\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.drop-down-menu .drop-down-item:hover {\r\n  background-color: #dbedff;\r\n}\r\n.drop-down-menu .drop-down-item span {\r\n  overflow: hidden;\r\n}\r\n\r\n.drop-down-menu .selectedDropBox {\r\n  background-color: #f3f6f9;\r\n}\r\n\r\n.drop-down-menu .drop-down-search-bar {\r\n  /* display: flex;\r\n  justify-content: center;\r\n  padding: 0.4rem 0; */\r\n  padding: 0.4rem;\r\n}\r\n\r\n.animateDropDownLabel {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0.7rem;\r\n  transform: translateY(-50%);\r\n  transition: all 0.3s;\r\n  pointer-events: none;\r\n  color: #212229;\r\n  z-index: 1;\r\n  /* opacity: 0.7; */\r\n  font-size: 1rem;\r\n  line-height: 0;\r\n}\r\n\r\n.animateDropDownLabel span {\r\n  padding: 0 0.5rem;\r\n  transition: 0.3s;\r\n}\r\n\r\n.animateDropDownLabelUp {\r\n  top: 0;\r\n  left: 0.7rem;\r\n  transform: translateY(-100%);\r\n  color: #344767;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.animateDropDownLabelUp span {\r\n  font-size: 0.75rem;\r\n  background: inherit;\r\n}\r\n\r\n.direct.fixedHeight {\r\n  height: 2.75rem;\r\n}\r\n\r\n/* --- drop down box css end --- */\r\n");const i="Reset",l="globalClick",d="GlobalReset",s="incomingValue",c="mpnxmaxQGA-DropDownBox-search-gNcFybupRk",m=["px","em","rem","%","vw","vmin","vmax"],p=["small","medium","mini"],u=(n,e,r=null)=>r?typeof n===e?r?.ifTrue:r?.ifFalse:typeof n===e;function w(n){const e=n?.replaceAll(/\d/g,""),r=m.includes(e);return r||!1}const h=n=>n.trim().replace(/\s+/g," "),f=({options:a,disabled:d,addStyle:s,searchBar:m,dropDownValueTwo:p,resetButton:w,menuOptions:f,setMenuOptions:b,showMenu:g,handleResetBtnText:y,optionsContainer:x,optionItemStyle:v,inputSearchStyle:k,selectedOptionItemStyle:T,mainRef:E,animateTitle:S,handleSetValues:_})=>{const[B,D]=e({query:"",touched:!1}),[$,N]=e(""),L=r(null);let j=r(null);const C=n=>n?.searchOptions?(n?.searchOptions?.join("")+n?.label).replaceAll(" ","")?.toLowerCase():n?.label.replaceAll(" ","")?.toLowerCase();t((()=>{let n;return m&&B?.touched&&(n=setTimeout((()=>{if(!B?.query)return void(100!==f.length&&a?.length>100?b(a.slice(0,100)):a?.length<=100&&b(a));const n=a.filter((n=>C(n)?.includes(B?.query.replaceAll(" ","")?.toLowerCase())));b(n)}),(m?.delay||0===m?.delay)&&u(Number(m?.delay),"number")?m?.delay:400)),()=>{clearTimeout(n)}}),[B?.query]);const[F,V]=e(!1),I=r();t((()=>{const n=n=>{I?.current&&!I?.current?.contains(n.target)&&(_({key:l}),setTimeout((()=>{b(a?.length>=100?a?.slice(0,100):a)}),250))};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}}),[I,f?.length]),t((()=>{g&&V(!0),m&&L.current&&L.current.focus()}),[]),o((()=>{const n=()=>{const n=window.innerHeight,e=E.current.getBoundingClientRect(),r=document.getElementById("drop_$_down_$_menu")?.getBoundingClientRect().height||0;N(n-(e.height+e.top)<r)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]);const O=(n,e)=>{if(!j||n!==e-101)return e>=100&&n===e-1?j:void 0;j.current=null},z=r(null);return t((()=>(a?.length>=100&&(z.current||(z.current=new IntersectionObserver((n=>{const e=n[0];e.isIntersecting&&(b((n=>a?.slice(0,n.length+100))),z.current?.unobserve(e.target))}))),j.current&&z.current.observe(j.current)),()=>{z.current&&(z.current.disconnect(),z.current=null)})),[a,f,b]),t((()=>{const n=n=>{"Tab"===n?.key&&_({key:l})};return document.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),[]),n.createElement(n.Fragment,null,d?"":g?n.createElement("div",{className:h(`drop-down-menu ${s?"":" hide_drop-down-menu "} ${m?" search-height-adjust ":""} \n          ${u(x,"string",{ifTrue:x,ifFalse:""})}\n          `),ref:g&&F?I:null,id:"drop_$_down_$_menu",style:{...x&&u(x,"object")&&x,...$&&{top:"auto",bottom:""+(S?"115%":"105%")}}},m?n.createElement("div",{className:"drop-down-search-bar"},n.createElement("input",{className:`drop-down-search-input ${u(k,"string",{ifTrue:k,ifFalse:""})}`,style:{...k&&u(k,"object")&&k},ref:L,type:"text",placeholder:"search here...",name:c,value:B?.query,onChange:n=>{D({query:n.target.value,touched:!0})},maxLength:80})):null,w&&p&&!B?.query?n.createElement("div",{className:`drop-down-item ${u(v,"string",{ifTrue:v,ifFalse:""})}`,onClick:()=>{_({label:y(),value:"",key:i})},style:{...v&&u(v,"object")&&v}},n.createElement("span",null,y())):null,f?.length>0?f?.map(((e,r)=>n.createElement("div",{key:r,className:h(`drop-down-item ${u(v,"string",{ifTrue:v,ifFalse:""})}\n                  ${p===e?.value?u(T,"string",{ifTrue:T,ifFalse:" selectedDropBox"}):""}`),onClick:()=>{_(e,r,a?.length,B?.query&&B?.touched)},style:{...v&&u(v,"object")&&v,...T&&p===e?.value&&u(T,"object")&&T}},n.createElement("span",{ref:f?.length>=100?O(r,f?.length):null},e?.label)))):n.createElement("div",{className:`drop-down-item ${u(v,"string",{ifTrue:v,ifFalse:""})}`,style:{...v&&u(v,"object")&&v}},n.createElement("span",null,"No Data Found"))):null)},b=({title:o,animateTitle:c,options:m,placeholder:b,size:g,showSearch:y,disabled:x=!1,incomingValue:v,resetButton:k,onSelect:T,beforeSelect:E,afterSelect:S,changeObserver:_={},customArrow:B,styles:D={},hideScrollbar:$=!1})=>{const[N,L]=e(!1),[j,C]=e(!1),[F,V]=e(m),[I,O]=e(b),[z,q]=e(""),[A,R]=e(""),[Y,M]=e(null),X=r(null);let U=r(""),G=r(null);const H=()=>{C(!j),function(){Y&&(clearTimeout(Y),M(null));if(N){const n=setTimeout((()=>{L(!1)}),200);M(n)}else L(!0)}()};const P=()=>u(k,"string",{ifTrue:k,ifFalse:i});function K(n={},e=null,r,t){const{label:o,value:a,key:c}=n;if(console.info("key: ",c),n?.key&&delete n?.key,c===l&&N)return void H();let p,w={oldValue:z,index:e,row:{...n,label:!c||c!==i&&c!==d?n?.label:""}};E&&u(E,"function")&&(p=E(a,w)),!1!==p&&(o||a)&&(O(o),q(a)),G.current=w,t&&setTimeout((()=>{V(r>=100?m?.slice(0,100):m)}),250),c!==s&&c!==d&&H()}t((()=>()=>{Y&&clearTimeout(Y)}),[Y]),t((()=>{const n=P(),e=I===n&&""===z;(z||e)&&(T?(T&&z||T&&e)&&T(z,G.current):console.error("Dropdown component requires a callback function to handle value changes. Please provide a valid 'onSelect' prop."),S&&u(S,"function")&&S(z,G.current),e&&O(b||"")),G.current&&(G.current=null)}),[z]);const Q=a((()=>m),[m]);return t((()=>{let n=Q;Q?.length>100&&(n=Q?.slice(0,100)),V(n)}),[Q]),t((()=>{if(A&&A!==v||!z&&v){let n=null;const e=m?.find(((e,r)=>e?.value===v&&(n=r,!0)));e?.value===v&&(R(e?.value),K({...e,key:s},n))}}),[v,Q]),t((()=>{const n=setTimeout((()=>{x&&N&&H()}),250);return()=>clearTimeout(n)}),[x,N]),t((()=>{const{target:n,handler:e}=_;if(u(e,"function")){e((n=>{if(""===n||n===P())return void K({label:P(),value:"",key:d});let e={label:n||b,value:n},r=null;n&&(e=m?.find(((e,t)=>e?.value===n&&(r=t,!0)))),e?.value===n&&K({...e,key:s},r)}),{newTargetedValue:n,oldTargetedValue:U.current,dropdownValue:z}),U.current=n}}),[_?.target]),t((()=>{!I||b?b&&(z&&q(""),O(b)):O("")}),[b]),n.createElement("div",{className:"drop-down-main "+(u(g,"string")&&p.includes(g)?`drop-down-main-${g}`:`drop-down-main-large ${u(g,"string")&&"NaN"===String(parseInt(g))&&!w(g)?g:""}`),ref:X,style:{...g&&u(parseInt(g),"number")&&"NaN"!==String(parseInt(g))?{width:u(g,"string")&&w(g)?g:`${parseInt(g)}px`}:u(D?.selectBox,"object")&&D?.selectBox?.width&&{width:D?.selectBox?.width}}},o&&n.createElement("div",{className:h(`drop-down-title  ${c?z||N?" animateDropDownLabel animateDropDownLabelUp":" animateDropDownLabel":""}\n            ${u(D?.title,"string",{ifTrue:D?.title,ifFalse:""})}\n            `),style:{...D?.title&&u(D?.title,"object")&&D?.title,...c&&{padding:"0px"},...c&&{margin:"0px"}}},n.createElement("span",null,o||"")),n.createElement("div",{className:"drop-down-selector"+(x?"":!$&&(F?.length>4||y&&F?.length>3)?" show-drop-scroll":" hide-drop-scroll")},n.createElement("div",{tabindex:"0",className:h(`direct ${x?"disabledDropBox":""} ${u(D?.selectBox,"string",{ifTrue:D?.selectBox,ifFalse:""})}\n          ${x?u(D?.disabledState,"string",{ifTrue:D?.disabledState,ifFalse:""}):""}`),onClick:n=>{console.info("on CLick e: ",n),n.stopPropagation(),x||H()},onFocus:n=>{console.info("e?.relatedTarget?.name === keys.inputNameKey: ",n?.relatedTarget?.name),console.info("e",n),n?.relatedTarget&&(x||H())},style:{...u(D?.selectBox,"object")&&D?.selectBox&&{...D?.selectBox,...g&&{width:"auto"},...x&&!D?.disabledState&&{backgroundColor:"#e2e2e24b",cursor:"not-allowed"}},...x&&D?.disabledState&&u(D?.disabledState,"object")&&{...D?.disabledState}}},n.createElement("div",{className:h(`default_value ${z&&u(D?.selectedValue,"string",{ifTrue:D?.selectedValue,ifFalse:""})} ${!z&&u(D?.placeholder,"string")?D?.placeholder:""}`),style:{...D?.selectedValue&&z&&u(D?.selectedValue,"object")&&D?.selectedValue,...b&&D?.placeholder&&u(D?.placeholder,"object")&&!z&&D?.placeholder}},I===P()&&""===z?" ":I||" "),B&&B?.element?n.createElement("div",{className:`drop-arrow ${j?"up-arrow":""} ${u(D?.arrow,"string")?D?.arrow:""}`,style:u(D?.arrow,"object",{ifTrue:D?.arrow,ifFalse:{}})},B?.element):n.createElement("svg",{className:`drop-arrow ${j?"up-arrow":""} ${u(D?.arrow,"string")?D?.arrow:""}`,style:u(D?.arrow,"object")?D?.arrow:{},xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 -960 960 960",width:"24px",fill:"black"},n.createElement("path",{d:"M480-80 200-360l56-56 184 183v-647h80v647l184-184 56 57L480-80Z"}))),N&&n.createElement(f,{disabled:x,addStyle:j,searchBar:y,dropDownValueTwo:z,resetButton:k,menuOptions:F,options:m,setMenuOptions:V,showMenu:N,handleResetBtnText:P,optionsContainer:D?.optionsContainer,optionItemStyle:D?.optionItem,inputSearchStyle:D?.searchInput,selectedOptionItemStyle:D?.selectedOptionItem,mainRef:X,animateTitle:c,handleSetValues:K})))};export{b as default};
