import n,{useState as r,useRef as e,useEffect as o,useLayoutEffect as t,useMemo as a}from"react";!function(n,r){void 0===r&&(r={});var e=r.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css","top"===e&&o.firstChild?o.insertBefore(t,o.firstChild):o.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}}("/* --- drop down box css start --- */\r\n\r\n.drop-down-main {\r\n  /* margin-bottom: 1rem; */\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main-small {\r\n  width: 11rem;\r\n}\r\n\r\n.drop-down-main-mini {\r\n  width: 5rem;\r\n}\r\n\r\n.drop-down-main-medium {\r\n  width: 19rem;\r\n}\r\n\r\n.drop-down-main-large {\r\n  width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-large .default_value {\r\n  max-width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-small .default_value,\r\n.drop-down-main.drop-down-main-mini .default_value,\r\n.drop-down-main.drop-down-main-medium .default_value {\r\n  max-width: 90%;\r\n}\r\n.drop-down-main .direct .default_value {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.drop-down-main .drop-down-title {\r\n  padding: 0.5rem 0;\r\n  font-weight: 500;\r\n  background: transparent;\r\n}\r\n.drop-down-main .drop-down-title.animateDropDownLabel {\r\n  background: white;\r\n}\r\n\r\n.drop-down-main .drop-down-selector {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main .drop-down-selector .direct {\r\n  box-sizing: border-box;\r\n  width: 100% !important;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n  /* color: #415094; */\r\n  color: black;\r\n  align-items: center;\r\n  padding: 0.65rem;\r\n  border-radius: 0.3125rem;\r\n  border: 1px solid #a1a4b9;\r\n  user-select: none;\r\n  background-color: white;\r\n}\r\n\r\n.drop-down-selector .drop-arrow {\r\n  font-size: 1rem;\r\n  transition: all 0.15s;\r\n  /* cursor: pointer; */\r\n  /* color: #415094; */\r\n  color: black;\r\n  pointer-events: none;\r\n}\r\n.drop-down-selector .drop-arrow.custom-arrow-style {\r\n  line-height: 0;\r\n}\r\n\r\n.drop-down-selector .up-arrow {\r\n  rotate: 180deg;\r\n}\r\n\r\n.input-field input.drop-down-search-input[disabled],\r\n.drop-down-main .drop-down-selector .disabledDropBox {\r\n  background-color: #e2e2e24b;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.drop-down-selector .drop-down-menu {\r\n  position: absolute;\r\n  /* top: 3rem; */\r\n  top: 105%;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 20;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\r\n  /* box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); */\r\n  /* box-shadow: 0 24px 38px 3px rgb(255 255 255 / 14%),\r\n    0 9px 46px 8px rgb(132 132 132 / 12%), 0 11px 15px -7px rgba(0, 0, 0, 0.2); */\r\n  /* border-radius: 0.5rem; */\r\n  /* border-bottom-right-radius: 0.5rem; */\r\n  overflow: hidden;\r\n  border-radius: 0.3125rem;\r\n  animation: drop-down-animation 0.13s ease-in-out;\r\n  max-height: 10rem;\r\n  overflow-y: scroll;\r\n  /* margin-bottom: 1rem; */\r\n}\r\n.drop-down-selector .drop-down-menu.search-height-adjust {\r\n  max-height: 11.5rem;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  width: 6px !important;\r\n  display: block !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb {\r\n  background: #818181 !important;\r\n  border-radius: 5px !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb:hover {\r\n  background: #a4a4a4 !important;\r\n  cursor: pointer !important;\r\n}\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-track {\r\n  background: #f1f1f1 !important;\r\n  cursor: pointer !important;\r\n  border-radius: 0.3125rem;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  display: block;\r\n}\r\n\r\n@keyframes drop-down-animation {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.drop-down-selector .hide_drop-down-menu {\r\n  animation: fadeOutAnimation 0.13s ease-in-out forwards;\r\n}\r\n\r\n.show_component-common-animation {\r\n  animation: show_component-common-animation 0.1s ease-in-out forwards;\r\n}\r\n\r\n.drop-down-search-bar input.drop-down-search-input {\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  padding: 0.5rem;\r\n  width: 95%;\r\n  height: 2.25rem;\r\n  line-height: 2.25rem;\r\n  width: 100%;\r\n  font-weight: 500;\r\n  font-size: 0.9rem;\r\n  border-radius: 6px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  border: 1px solid #d2d6da;\r\n}\r\n\r\n@keyframes show_component-common-animation {\r\n  0% {\r\n    opacity: 0;\r\n    scale: 0;\r\n  }\r\n\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.hide_component-common-animation {\r\n  animation: hide_component-common-animation 0.3s ease-in-out forwards;\r\n}\r\n\r\n@keyframes hide_component-common-animation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n    scale: 1;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    scale: 0;\r\n    /* transform: translateY(-3.5rem); */\r\n  }\r\n}\r\n\r\n@keyframes fadeOutAnimation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n}\r\n\r\n.show_search-common-animation {\r\n  animation: show_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes show_search-common-animation {\r\n  0% {\r\n    /* width: 0; */\r\n    transform: translateX(20px);\r\n    scale: 0;\r\n    opacity: 0;\r\n  }\r\n\r\n  40% {\r\n    scale: 0.2;\r\n  }\r\n\r\n  70% {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  100% {\r\n    scale: 1;\r\n    transform: translateX(0px);\r\n    opacity: 1;\r\n    /* width: 100%; */\r\n  }\r\n}\r\n\r\n.hide_search-common-animation {\r\n  animation: hide_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes hide_search-common-animation {\r\n  0% {\r\n    /* width: 100%; */\r\n    opacity: 1;\r\n    transform: translateX(0px);\r\n  }\r\n\r\n  20% {\r\n    opacity: 0.7;\r\n    scale: 1;\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(20px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.drop-down-menu .drop-down-item {\r\n  padding: 0.5rem;\r\n  font-size: 0.875rem;\r\n  padding-left: 0.9rem;\r\n  /* height: 2.25rem; */\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.drop-down-menu .drop-down-item:hover {\r\n  background-color: #dbedff;\r\n}\r\n.drop-down-menu .drop-down-item span {\r\n  overflow: hidden;\r\n}\r\n\r\n.drop-down-menu .selectedDropBox {\r\n  background-color: #f3f6f9;\r\n}\r\n\r\n.drop-down-menu .drop-down-search-bar {\r\n  /* display: flex;\r\n  justify-content: center;\r\n  padding: 0.4rem 0; */\r\n  padding: 0.4rem;\r\n}\r\n\r\n.animateDropDownLabel {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0.7rem;\r\n  transform: translateY(-50%);\r\n  transition: all 0.3s;\r\n  pointer-events: none;\r\n  color: #212229;\r\n  z-index: 1;\r\n  /* opacity: 0.7; */\r\n  font-size: 1rem;\r\n  line-height: 0;\r\n}\r\n\r\n.animateDropDownLabel span {\r\n  padding: 0 0.5rem;\r\n  transition: 0.3s;\r\n}\r\n\r\n.animateDropDownLabelUp {\r\n  top: 0;\r\n  left: 0.7rem;\r\n  transform: translateY(-100%);\r\n  color: #344767;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.animateDropDownLabelUp span {\r\n  font-size: 0.75rem;\r\n  background: inherit;\r\n}\r\n\r\n.direct.fixedHeight {\r\n  height: 2.75rem;\r\n}\r\n\r\n/* ---------------loading css animation */\r\n\r\n.drop-down-selector .direct .dropdown-direct-loading {\r\n  line-height: 0;\r\n  box-sizing: border-box;\r\n  width: 25px;\r\n}\r\n\r\n.dropdown-direct-loading .loading__dot {\r\n  animation: dropdown-direct-loading-dot 1.2s infinite;\r\n  background-color: grey;\r\n  display: inline-block;\r\n  height: 5px;\r\n  margin: 1.5px;\r\n  width: 5px;\r\n  border-radius: 50%;\r\n}\r\n\r\n/* .dropdown-direct-loading .loading__dot:nth-of-type(1) {\r\n  animation-delay: 0.1s;\r\n} */\r\n\r\n.dropdown-direct-loading .loading__dot:nth-of-type(2) {\r\n  animation-delay: 0.22s;\r\n}\r\n\r\n.dropdown-direct-loading .loading__dot:nth-of-type(3) {\r\n  animation-delay: 0.36s;\r\n}\r\n\r\n@keyframes dropdown-direct-loading-dot {\r\n  0% {\r\n    background-color: grey;\r\n    transform: scale(1);\r\n  }\r\n\r\n  50% {\r\n    background-color: #dbdbdb;\r\n    transform: scale(0.8);\r\n    /*     opacity:0.3; */\r\n  }\r\n\r\n  100% {\r\n    background-color: grey;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/* --- drop down box css end --- */\r\n");const i="Reset",l="globalClick",d="GlobalReset",s="changeObserver",c="incomingValue",m="onSelect",p=["px","em","rem","%","vw","vmin","vmax"],u=["small","medium","mini"],w=(n,r,e=null)=>e?typeof n===r?e?.ifTrue:e?.ifFalse:typeof n===r;function h(n){const r=n?.replaceAll(/\d/g,""),e=p.includes(r);return e||!1}const g=n=>n.trim().replace(/\s+/g," "),f=({options:a,disabled:d,addStyle:s,searchBar:c,dropDownValueTwo:m,resetButton:p,menuOptions:u,setMenuOptions:h,showMenu:f,handleResetBtnText:b,optionsContainer:y,optionItemStyle:x,inputSearchStyle:v,selectedOptionItemStyle:k,mainRef:_,animateTitle:T,handleSetValues:S,loading:E})=>{const[B,N]=r({query:"",touched:!1}),[$,D]=r(""),j=e(null);let C=e(null);const L=n=>n?.searchOptions?(n?.searchOptions?.join("")+n?.label).replaceAll(" ","")?.toLowerCase():n?.label.replaceAll(" ","")?.toLowerCase();o((()=>{let n;if(c&&B?.touched){if(c?.onSearch&&w(c?.onSearch,"function"))return void c?.onSearch(B?.query,a);n=setTimeout((()=>{if(!B?.query)return void(100!==u.length&&a?.length>100?h(a.slice(0,100)):a?.length<=100&&h(a));const n=a.filter((n=>{const r=B?.query.replaceAll(" ","")?.toLowerCase();return L(n)?.includes(r)}));h(n)}),(c?.delay||0===c?.delay)&&w(Number(c?.delay),"number")?c?.delay:400)}return()=>{clearTimeout(n)}}),[B?.query]);const[F,V]=r(!1),I=e();o((()=>{const n=n=>{I?.current&&!I?.current?.contains(n.target)&&(S({key:l}),setTimeout((()=>{h(a?.length>=100?a?.slice(0,100):a)}),250))};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}}),[I,u?.length]),o((()=>{f&&V(!0),c&&j.current&&j.current.focus()}),[]),t((()=>{const n=()=>{const n=window.innerHeight,r=_.current.getBoundingClientRect(),e=document.getElementById("drop_$_down_$_menu")?.getBoundingClientRect().height||0;D(n-(r.height+r.top)<e)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]);const O=(n,r)=>{if(!C||n!==r-101)return r>=100&&n===r-1?C:void 0;C.current=null},z=e(null);return o((()=>(a?.length>=100&&(z.current||(z.current=new IntersectionObserver((n=>{const r=n[0];r.isIntersecting&&(h((n=>a?.slice(0,n.length+100))),z.current?.unobserve(r.target))}))),C.current&&z.current.observe(C.current)),()=>{z.current&&(z.current.disconnect(),z.current=null)})),[a,u,h]),n.createElement(n.Fragment,null,d?"":f?n.createElement("div",{className:g(`drop-down-menu ${s?"":" hide_drop-down-menu "} ${c?" search-height-adjust ":""} \n          ${w(y,"string",{ifTrue:y,ifFalse:""})}\n          `),ref:f&&F?I:null,id:"drop_$_down_$_menu",style:{...y&&w(y,"object")&&y,...$&&{top:"auto",bottom:""+(T?"115%":"105%")}}},c?n.createElement("div",{className:"drop-down-search-bar"},n.createElement("input",{className:`drop-down-search-input ${w(v,"string",{ifTrue:v,ifFalse:""})}`,style:{...v&&w(v,"object")&&v},ref:j,type:"text",placeholder:"search here...",name:"search",value:B?.query,onChange:n=>{N({query:n.target.value,touched:!0})},maxLength:80})):null,p&&m&&!E&&!B?.query?n.createElement("div",{className:`drop-down-item ${w(x,"string",{ifTrue:x,ifFalse:""})}`,onClick:()=>{S({label:b(),value:"",key:i})},style:{...x&&w(x,"object")&&x}},n.createElement("span",null,b())):null,E?n.createElement("div",{className:"drop-down-item"},"Loading..."):u?.length>0?u?.map(((r,e)=>n.createElement("div",{key:e,className:g(`drop-down-item ${w(x,"string",{ifTrue:x,ifFalse:""})}\n                  ${m===r?.value?w(k,"string",{ifTrue:k,ifFalse:" selectedDropBox"}):""}`),onClick:()=>{S(r,e,a?.length,B?.query&&B?.touched&&!c?.onSearch)},style:{...x&&w(x,"object")&&x,...k&&m===r?.value&&w(k,"object")&&k}},n.createElement("span",{ref:u?.length>=100?O(e,u?.length):null},r?.label)))):n.createElement("div",{className:`drop-down-item ${w(x,"string",{ifTrue:x,ifFalse:""})}`,style:{...x&&w(x,"object")&&x}},n.createElement("span",null,"No Data Found"))):null)},b=({title:t,animateTitle:p,options:b,placeholder:y,size:x,showSearch:v,disabled:k=!1,incomingValue:_,resetButton:T,onSelect:S,beforeSelect:E,afterSelect:B,changeObserver:N={},customArrow:$,styles:D={},hideScrollbar:j=!1,loading:C=!1})=>{const[L,F]=r(!1),[V,I]=r(!1),[O,z]=r(b),[q,Y]=r(y),[A,R]=r(""),[M,X]=r(""),[U,H]=r(null),G=e(null);let P=e(""),Z=e(null);const J=()=>{I(!V),function(){U&&(clearTimeout(U),H(null));if(L){const n=setTimeout((()=>{F(!1)}),200);H(n)}else F(!0)}()};const K=()=>w(T,"string",{ifTrue:T,ifFalse:i});function Q(n={},r=null,e,o){const{label:t,value:a,key:p}=n;if(n?.key&&delete n?.key,p===l&&L)return void J();let u,h={oldValue:A,index:r,row:{...n,label:!p||p!==i&&p!==d?n?.label:""},...p?{triggeredBy:p}:{triggeredBy:m}};E&&w(E,"function")&&(u=E(a,h)),!1!==u&&(t||a)&&(Y(t),R(a)),Z.current=h,o?setTimeout((()=>{z(e>=100?b?.slice(0,100):b)}),250):z(b),[s,d,c].includes(p)||J()}o((()=>()=>{U&&clearTimeout(U)}),[U]),o((()=>{!q||y?y&&(A&&R(""),Y(y)):Y("")}),[y]),o((()=>{const n=K(),r=q===n&&""===A;(A||r)&&(S?(S&&A||S&&r)&&S(A,Z.current):console.error("Dropdown component requires a callback function to handle value changes. Please provide a valid 'onSelect' prop."),B&&w(B,"function")&&B(A,Z.current),r&&Y(y||"")),Z.current&&(Z.current=null)}),[A]);const W=a((()=>b),[b]);return o((()=>{let n=W;W?.length>100&&(n=W?.slice(0,100)),z(n)}),[W]),o((()=>{if(_&&M!==_&&!A){let n=null;const r=b?.find(((r,e)=>r?.value===_&&(n=e,!0)));r?.value===_&&(X(r?.value),Q({...r,key:c},n))}}),[_,W]),o((()=>{const n=setTimeout((()=>{k&&L&&J()}),250);return()=>clearTimeout(n)}),[k,L]),o((()=>{const{target:n,handler:r}=N;if(w(r,"function")){r((n=>{if(""===n||n===K())return void Q({label:K(),value:"",key:d});let r={label:n||y,value:n},e=null;n&&(r=b?.find(((r,o)=>r?.value===n&&(e=o,!0)))),r?.value===n&&Q({...r,key:s},e)}),{newTargetedValue:n,oldTargetedValue:P.current,dropdownValue:A}),P.current=n}}),[N?.target]),n.createElement("div",{className:"drop-down-main "+(w(x,"string")&&u.includes(x)?`drop-down-main-${x}`:`drop-down-main-large ${w(x,"string")&&"NaN"===String(parseInt(x))&&!h(x)?x:""}`),ref:G,style:{...x&&w(parseInt(x),"number")&&"NaN"!==String(parseInt(x))?{width:w(x,"string")&&h(x)?x:`${parseInt(x)}px`}:w(D?.selectBox,"object")&&D?.selectBox?.width&&{width:D?.selectBox?.width}}},t&&n.createElement("div",{className:g(`drop-down-title  ${p?A||L?" animateDropDownLabel animateDropDownLabelUp":" animateDropDownLabel":""}\n            ${w(D?.title,"string",{ifTrue:D?.title,ifFalse:""})}\n            `),style:{...D?.title&&w(D?.title,"object")&&D?.title,...p&&{padding:"0px"},...p&&{margin:"0px"}}},n.createElement("span",null,t||"")),n.createElement("div",{className:"drop-down-selector"+(k?"":!j&&(O?.length>4||v&&O?.length>3)?" show-drop-scroll":" hide-drop-scroll")},n.createElement("div",{className:g(`direct ${k?"disabledDropBox":""} ${w(D?.selectBox,"string",{ifTrue:D?.selectBox,ifFalse:""})}\n          ${k?w(D?.disabledState,"string",{ifTrue:D?.disabledState,ifFalse:""}):""}`),onClick:n=>{k||J()},style:{...w(D?.selectBox,"object")&&D?.selectBox&&{...D?.selectBox,...x&&{width:"auto"},...k&&!D?.disabledState&&{backgroundColor:"#e2e2e24b",cursor:"not-allowed"}},...k&&D?.disabledState&&w(D?.disabledState,"object")&&{...D?.disabledState}}},n.createElement("div",{className:g(`default_value ${A&&w(D?.selectedValue,"string",{ifTrue:D?.selectedValue,ifFalse:""})} ${!A&&w(D?.placeholder,"string")?D?.placeholder:""}`),style:{...D?.selectedValue&&A&&w(D?.selectedValue,"object")&&D?.selectedValue,...y&&D?.placeholder&&w(D?.placeholder,"object")&&!A&&D?.placeholder}},q===K()&&""===A?" ":q||" "),C?n.createElement("div",{className:"dropdown-direct-loading"},n.createElement("span",{className:"loading__dot"}),n.createElement("span",{className:"loading__dot"}),n.createElement("span",{className:"loading__dot"})):$&&$?.element?n.createElement("div",{className:`drop-arrow custom-arrow-style ${V?"up-arrow":""} ${w(D?.arrow,"string")?D?.arrow:""}`,style:w(D?.arrow,"object",{ifTrue:D?.arrow,ifFalse:{}})},$?.element):n.createElement("svg",{className:`drop-arrow ${V?"up-arrow":""} ${w(D?.arrow,"string")?D?.arrow:""}`,style:w(D?.arrow,"object")?D?.arrow:{},xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 -960 960 960",width:"24px",fill:"black"},n.createElement("path",{d:"M480-80 200-360l56-56 184 183v-647h80v647l184-184 56 57L480-80Z"}))),L&&n.createElement(f,{disabled:k,addStyle:V,searchBar:v,dropDownValueTwo:A,resetButton:T,menuOptions:O,options:b,setMenuOptions:z,showMenu:L,handleResetBtnText:K,optionsContainer:D?.optionsContainer,optionItemStyle:D?.optionItem,inputSearchStyle:D?.searchInput,selectedOptionItemStyle:D?.selectedOptionItem,mainRef:G,animateTitle:p,handleSetValues:Q,loading:C})))};export{b as default};
