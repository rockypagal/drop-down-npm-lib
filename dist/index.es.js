import n,{useState as r,useRef as e,useEffect as o,useMemo as t}from"react";!function(n,r){void 0===r&&(r={});var e=r.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css","top"===e&&o.firstChild?o.insertBefore(t,o.firstChild):o.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}}("/* --- drop down box css start --- */\r\n\r\n.drop-down-main {\r\n  /* margin-bottom: 1rem; */\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main-small {\r\n  width: 11rem;\r\n}\r\n\r\n.drop-down-main-mini {\r\n  width: 5rem;\r\n}\r\n\r\n.drop-down-main-medium {\r\n  width: 19rem;\r\n}\r\n\r\n.drop-down-main-large {\r\n  width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-large .default_value {\r\n  max-width: 100%;\r\n}\r\n.drop-down-main.drop-down-main-small .default_value,\r\n.drop-down-main.drop-down-main-mini .default_value,\r\n.drop-down-main.drop-down-main-medium .default_value {\r\n  max-width: 90%;\r\n}\r\n.drop-down-main .direct .default_value {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.drop-down-main .drop-down-title {\r\n  padding: 0.5rem 0;\r\n  font-weight: 500;\r\n  background: white;\r\n}\r\n\r\n.drop-down-main .drop-down-selector {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.drop-down-main .drop-down-selector .direct {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n  color: #415094;\r\n  align-items: center;\r\n  padding: 0.65rem;\r\n  border-radius: 0.3125rem;\r\n  border: 1px solid #a1a4b9;\r\n  user-select: none;\r\n}\r\n\r\n.drop-down-selector .drop-arrow {\r\n  font-size: 1rem;\r\n  transition: all 0.15s;\r\n  /* cursor: pointer; */\r\n  color: #415094;\r\n  pointer-events: none;\r\n}\r\n\r\n.drop-down-selector .up-arrow {\r\n  rotate: 180deg;\r\n}\r\n\r\n.input-field input[disabled],\r\n.drop-down-main .drop-down-selector .disabledDropBox {\r\n  background-color: #e2e2e24b;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.drop-down-selector .drop-down-menu {\r\n  position: absolute;\r\n  /* top: 3rem; */\r\n  top: 105%;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 20;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\r\n  /* box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); */\r\n  /* box-shadow: 0 24px 38px 3px rgb(255 255 255 / 14%),\r\n    0 9px 46px 8px rgb(132 132 132 / 12%), 0 11px 15px -7px rgba(0, 0, 0, 0.2); */\r\n  border-radius: 0.5rem;\r\n  /* border-bottom-right-radius: 0.5rem; */\r\n  overflow: hidden;\r\n  animation: drop-down-animation 0.13s ease-in-out;\r\n  max-height: 10rem;\r\n  overflow-y: scroll;\r\n  margin-bottom: 1rem;\r\n}\r\n.drop-down-selector .drop-down-menu.search-height-adjust {\r\n  max-height: 11.5rem;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  width: 5px !important;\r\n  display: block !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb {\r\n  background: #818181 !important;\r\n  border-radius: 10px !important;\r\n}\r\n\r\n.show-drop-scroll .drop-down-menu::-webkit-scrollbar-thumb:hover {\r\n  background: #a4a4a4 !important;\r\n  cursor: pointer !important;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n.hide-drop-scroll .drop-down-menu::-webkit-scrollbar {\r\n  display: block;\r\n}\r\n\r\n@keyframes drop-down-animation {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.drop-down-selector .hide_drop-down-menu {\r\n  animation: fadeOutAnimation 0.13s ease-in-out forwards;\r\n}\r\n\r\n.show_component-common-animation {\r\n  animation: show_component-common-animation 0.1s ease-in-out forwards;\r\n}\r\n\r\n.drop-down-search-bar input {\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  padding: 0.5rem;\r\n  width: 95%;\r\n  height: 2.25rem;\r\n  line-height: 2.25rem;\r\n  width: 100%;\r\n  font-weight: 500;\r\n  font-size: 0.9rem;\r\n  border-radius: 6px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  border: 1px solid #d2d6da;\r\n}\r\n\r\n@keyframes show_component-common-animation {\r\n  0% {\r\n    opacity: 0;\r\n    scale: 0;\r\n  }\r\n\r\n  50% {\r\n    opacity: 1;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n\r\n.hide_component-common-animation {\r\n  animation: hide_component-common-animation 0.3s ease-in-out forwards;\r\n}\r\n\r\n@keyframes hide_component-common-animation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n    scale: 1;\r\n  }\r\n\r\n  50% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    scale: 0;\r\n    /* transform: translateY(-3.5rem); */\r\n  }\r\n}\r\n\r\n@keyframes fadeOutAnimation {\r\n  0% {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(-1.5rem);\r\n  }\r\n}\r\n\r\n.show_search-common-animation {\r\n  animation: show_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes show_search-common-animation {\r\n  0% {\r\n    /* width: 0; */\r\n    transform: translateX(20px);\r\n    scale: 0;\r\n    opacity: 0;\r\n  }\r\n\r\n  40% {\r\n    scale: 0.2;\r\n  }\r\n\r\n  70% {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  100% {\r\n    scale: 1;\r\n    transform: translateX(0px);\r\n    opacity: 1;\r\n    /* width: 100%; */\r\n  }\r\n}\r\n\r\n.hide_search-common-animation {\r\n  animation: hide_search-common-animation 0.2s ease;\r\n}\r\n\r\n@keyframes hide_search-common-animation {\r\n  0% {\r\n    /* width: 100%; */\r\n    opacity: 1;\r\n    transform: translateX(0px);\r\n  }\r\n\r\n  20% {\r\n    opacity: 0.7;\r\n    scale: 1;\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(20px);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.drop-down-menu .drop-down-item {\r\n  padding: 0.5rem;\r\n  font-size: 0.875rem;\r\n  padding-left: 0.9rem;\r\n  /* height: 2.25rem; */\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.drop-down-menu .drop-down-item:hover {\r\n  background-color: #dbedff;\r\n}\r\n.drop-down-menu .drop-down-item span {\r\n  overflow: hidden;\r\n}\r\n\r\n.drop-down-menu .selectedDropBox {\r\n  background-color: #f3f6f9;\r\n}\r\n\r\n.drop-down-menu .drop-down-search-bar {\r\n  /* display: flex;\r\n  justify-content: center;\r\n  padding: 0.4rem 0; */\r\n  padding: 0.4rem;\r\n}\r\n\r\n.animateDropDownLabel {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0.7rem;\r\n  transform: translateY(-50%);\r\n  transition: all 0.3s;\r\n  pointer-events: none;\r\n  color: #212229;\r\n  z-index: 1;\r\n  opacity: 0.7;\r\n  font-size: 1rem;\r\n  line-height: 0;\r\n}\r\n\r\n.animateDropDownLabel span {\r\n  padding: 0 0.5rem;\r\n  transition: 0.3s;\r\n}\r\n\r\n.animateDropDownLabelUp {\r\n  top: 0;\r\n  left: 0.7rem;\r\n  transform: translateY(-100%);\r\n  color: #344767;\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n\r\n.animateDropDownLabelUp span {\r\n  font-size: 0.75rem;\r\n  background: inherit;\r\n}\r\n\r\n.direct.fixedHeight {\r\n  height: 2.75rem;\r\n}\r\n\r\n/* --- drop down box css end --- */\r\n");const a=({options:t,disabled:a,addStyle:l,searchBar:i,dropDownValueTwo:d,resetButton:s,menuOptions:m,setMenuOptions:c,showMenu:p,incomingValue:u,handleResetBtnText:w,optionsBoxStyle:h,optionsStyle:f,inputSearchStyle:g,mainRef:b,animateTitle:y,handleSetValues:x})=>{const[v,S]=r(""),[k,_]=r(""),E=e(null),D=e(null);o((()=>{if(!i)return;const n=setTimeout((()=>{if(!v)return void(500!==m.length&&t?.length>500?c(t.slice(0,500)):t?.length<=500&&c(t));const n=t.filter((n=>{const r=v.replaceAll(" ","").toLowerCase();return(e=n,e?.searchOptions?(e?.searchOptions?.join("")+e?.label).replaceAll(" ","")?.toLowerCase():e?.label.replaceAll(" ","")?.toLowerCase())?.includes(r);var e}));c(n)}),500);return()=>clearTimeout(n)}),[v,i,t,m.length]);const B=e();o((()=>{const n=n=>{B?.current&&!B?.current?.contains(n.target)&&(x(),c(t?.length>=500?t.slice(0,500):t))};return document.addEventListener("click",n),()=>document.removeEventListener("click",n)}),[B,m?.length]),o((()=>{if(t?.length>500){const n=new IntersectionObserver((r=>{const e=r[0];e.isIntersecting&&(c((n=>[...n,...t.slice(n.length,n.length+100)])),n.unobserve(e.target))}));return D.current&&n.observe(D.current),()=>n.disconnect()}}),[t,D]),o((()=>{p&&i&&E.current&&E.current.focus()}),[p,i]),o((()=>{let n=window.innerHeight,r=b.current.getBoundingClientRect(),e=document.getElementById("drop_$_down_$_menu").getBoundingClientRect().height;const o=n-(r.height+r.top)<e;_(o)}),[b]);const T=(n,r)=>{if(!D||n!==r-120)return r>=499&&n===r-20?D:void 0;D.current=null};return n.createElement(n.Fragment,null,a?null:p?n.createElement("div",{className:`drop-down-menu ${l?"":" hide_drop-down-menu "} ${i?" search-height-adjust ":""} `,ref:B,id:"drop_$_down_$_menu",style:k?{...h,top:"auto",bottom:""+(y?"85%":"70%")}:h},i&&n.createElement("div",{className:"drop-down-search-bar"},n.createElement("input",{style:g,ref:E,type:"text",placeholder:"search here...",name:"search",value:v,onChange:n=>{S(n.target.value)},maxLength:80})),!s||!d||v||u&&u===d?null:n.createElement("div",{className:"drop-down-item",onClick:()=>x(w(),""),style:f},n.createElement("span",null,w())),m?.length>0?m?.map((({label:r,value:e},o)=>n.createElement("div",{key:o,className:"drop-down-item"+(d===e?" selectedDropBox":""),onClick:()=>x(r,e,o),style:f},n.createElement("span",{ref:m?.length>=499?T(o,m?.length):null},r," ",o)))):n.createElement("div",{className:"drop-down-item",style:f},n.createElement("span",null,"No Data Found"))):null)},l=({title:l,animateTitle:i,options:d,placeholder:s,size:m,showSearch:c,disabled:p=!1,incomingValue:u,resetButton:w,onSelect:h,beforeSelect:f,afterSelect:g,changeObserver:b={},customArrow:y,styles:x={}})=>{const[v,S]=r(!1),[k,_]=r(!1),[E,D]=r(d),[B,T]=r(s),[N,L]=r(""),[C,V]=r(""),[z,O]=r(null),Y=e(null);let A=e("");const R=()=>{_(!k),function(){z&&(clearTimeout(z),O(null));if(v){const n=setTimeout((()=>{S(!1)}),200);O(n)}else S(!0)}()};const $=()=>"string"==typeof w?w:"Reset";o((()=>()=>{z&&clearTimeout(z)}),[z]),o((()=>{const n=$();(N||B===n)&&(h?(h&&N||h&&B===n)&&h(N):console.error("Dropdown component requires a callback function to handle value changes. Please provide a valid 'onSelect' prop."),g&&"function"==typeof g&&g(N),B===n&&T(s||""))}),[N]);const j=t((()=>d),[d]);return o((()=>{D(d)}),[j]),o((()=>{if(C&&C!==u||!N&&u){const n=d?.find((n=>n?.value===u));n?.value===u&&(V(n?.value),L(n?.value),T(n?.label))}}),[u,j]),o((()=>{p&&v&&R()}),[p]),o((()=>{const{target:n,handler:r}=b;if("function"==typeof r){r((n=>{let r={label:n||s,value:n};n&&(r=d?.find((r=>r?.value===n))),r?.value===n&&(L(r?.value),T(r?.label))}),{newTargetedValue:n,oldTargetedValue:A.current,dropdownValue:N}),A.current=n}}),[b?.target]),n.createElement("div",{className:"drop-down-main"+("small"===m?" drop-down-main-small":"medium"===m?" drop-down-main-medium":"mini"===m?" drop-down-main-mini":" drop-down-main-large"),ref:Y},l&&n.createElement("div",{className:"drop-down-title"+(i?N||v?" animateDropDownLabel animateDropDownLabelUp":" animateDropDownLabel":""),style:i?{...x?.titleStyle,padding:"0px !important",margin:"0px !important"}:x?.titleStyle},n.createElement("span",null,l||"")),n.createElement("div",{className:"drop-down-selector"+(p?"":E?.length>4||c&&E?.length>3?" show-drop-scroll":" hide-drop-scroll")},n.createElement("div",{className:p?" direct disabledDropBox":"direct",onClick:n=>{p||R()},style:x?.selectStyles&&p&&x?.disableStyle?{...x?.selectStyles,...x?.disableStyle}:p&&x?.disableStyle?{...x?.disableStyle}:x?.selectStyles?{...x?.selectStyles}:{}},n.createElement("div",{className:"default_value",style:s&&x?.placeholderStyle&&!N?x?.placeholderStyle:x?.selectValueStyle?x?.selectValueStyle:{}},B||" "),y&&y?.element?n.createElement("div",{className:"drop-arrow "+(k?"up-arrow":"")},y?.element):n.createElement("svg",{className:"drop-arrow "+(k?"up-arrow":""),style:x?.arrowStyle,xmlns:"http://www.w3.org/2000/svg",height:"1rem",viewBox:"0 -960 960 960",width:"24px",fill:"#415094"},n.createElement("path",{d:"M480-80 200-360l56-56 184 183v-647h80v647l184-184 56 57L480-80Z"}))),v&&n.createElement(a,{disabled:p,addStyle:k,searchBar:c,dropDownValueTwo:N,resetButton:w,menuOptions:E,options:d,setMenuOptions:D,showMenu:v,handleResetBtnText:$,optionsBoxStyle:x?.optionsBoxStyle,optionsStyle:x?.optionsStyle,inputSearchStyle:x?.searchBoxStyle,incomingValue:u,mainRef:Y,animateTitle:i,handleSetValues:function(n,r,e){let o;f&&"function"==typeof f&&e>=0&&(o=f(r,{oldValue:N,index:e,row:{label:n,value:r}})),!1!==o&&(n||r)&&(T(n),L(r)),R()}})))};export{l as default};
